# 실시간 협업 드로잉 도구

## 주요 기능

### 드로잉 & 디자인
- 다양한 도형 및 선 그리기
- 텍스트 추가 및 편집
- 이미지 업로드 및 조작
- 레이어 관리
- 그룹화 및 정렬
- 줌/패닝 기능

### 실시간 협업
- 다중 사용자 동시 편집
- 커서 위치 실시간 표시
- 변경 사항 실시간 동기화
- 채팅 기능
- 사용자 초대 및 권한 관리

### 프로젝트 관리
- 캔버스 저장 및 불러오기
- 버전 히스토리
- 템플릿 관리
- 프로젝트 공유
- 내보내기 기능 (PNG, PDF, SVG)

## 기술 스택

### 핵심 프레임워크
- **Next.js 14** (App Router)
  - 서버 컴포넌트 우선 아키텍처
  - 서버 액션
  - 병렬 라우트
  - 인터셉팅 라우트

### 실시간 협업
- **Socket.IO**
  - 실시간 이벤트 통신
  - 커서 위치 동기화
  - 채팅 기능
- **Yjs**
  - CRDT 기반 동시 편집
  - 충돌 없는 데이터 동기화
  - 변경 히스토리 관리

### 캔버스 엔진
- **Konva.js**
  - 2D 캔버스 렌더링
  - 도형 및 이미지 조작
  - 이벤트 처리
- **Fabric.js**
  - 고급 캔버스 기능
  - 객체 조작
  - 내보내기 기능

### 데이터베이스 & 스토리지
- **Supabase**
  - PostgreSQL 데이터베이스
  - 실시간 구독
  - 파일 스토리지
  - 인증 & 권한 관리
- **Prisma**
  - 타입 안전한 쿼리
  - 마이그레이션 관리

### 상태 관리
- **Zustand**
  - 클라이언트 상태 관리
  - 캔버스 상태 관리
- **React Query**
  - 서버 상태 관리
  - 캐싱 & 동기화

### 스타일링
- **Tailwind CSS**
  - JIT 컴파일러
  - 커스텀 테마
  - 반응형 디자인
- **CSS Modules** (필요시)
- **Framer Motion**
  - 부드러운 애니메이션
  - 전환 효과

### 언어 & 타입 시스템
- **TypeScript 5**
  - 엄격한 타입 체크
  - 타입 안전성 강화

### API & 통신
- **tRPC**
  - 타입 안전한 API
  - 엔드투엔드 타입 안전성
- **REST API** (필요시)

### 테스트
- **Jest**
  - 단위 테스트
  - 테스트 커버리지
- **React Testing Library**
  - 컴포넌트 테스트
- **Cypress**
  - E2E 테스트

### 배포 & CI/CD
- **Vercel**
  - 자동 배포
  - 프리뷰 배포
- **GitHub Actions**
  - CI/CD 파이프라인
  - 자동화 테스트

### 개발 도구
- **ESLint**
  - 코드 품질 관리
- **Prettier**
  - 코드 포맷팅
- **Husky**
  - Git 훅 관리
- **lint-staged**
  - 스테이징된 파일 린트

### 모니터링 & 분석
- **Sentry**
  - 에러 추적
  - 성능 모니터링
- **Google Analytics**
  - 사용자 행동 분석

### 문서화
- **Storybook**
  - 컴포넌트 문서화
  - 디자인 시스템
- **Swagger**
  - API 문서화

## 코드 스타일 가이드
- 들여쓰기: 2칸
- 줄 길이: 80-100자
- 네이밍 컨벤션
  - 변수, 함수: camelCase
  - 클래스: PascalCase
  - 컴포넌트: PascalCase
  - 상수: UPPER_SNAKE_CASE
- 주석: 복잡한 로직에 대한 설명 필수

## Next.js 특화 규칙
- App Router 구조 준수
- 컴포넌트는 client/server 컴포넌트 구분 명확히
- API 라우트는 RESTful 규칙 준수
- 환경 변수는 .env.local에 관리
- 정적 자산은 public 디렉토리 사용
- 페이지 메타데이터 필수 설정

## 버전 관리
### 브랜치 전략
- main: 프로덕션 코드
- develop: 개발 브랜치
- feature/*: 기능 개발
- hotfix/*: 긴급 수정

### 커밋 메시지 규칙
- feat: 새로운 기능
- fix: 버그 수정
- docs: 문서 수정
- style: 코드 스타일 변경
- refactor: 코드 리팩토링
- test: 테스트 관련
- chore: 빌드 프로세스, 패키지 매니저 설정

## 코드 리뷰 규칙
- PR 템플릿 사용 필수
- 최소 1명 이상의 리뷰어 필요
- 코드 리뷰 기간: 24시간

## 테스트 규칙
- 단위 테스트 작성 필수
- 테스트 커버리지 목표: 80% 이상
- CI/CD 파이프라인에서 테스트 자동화
- Next.js 테스트 환경 설정 준수

## 문서화
- API 문서화 필수
- 주석 규칙 준수
- 코드 변경 시 관련 문서 업데이트
- 컴포넌트 문서화 (Storybook 고려)

## 보안 규칙
- API 키, 비밀번호 등 민감한 정보는 환경 변수로 관리
- 의존성 취약점 정기 점검
- 보안 관련 이슈는 즉시 보고
- Next.js 보안 가이드라인 준수

## 성능 규칙
- 코드 최적화 가이드라인 준수
- 성능 테스트 기준 준수
- 불필요한 리소스 사용 최소화
- 이미지 최적화 (next/image 사용)
- 코드 스플리팅 활용
- 서버 컴포넌트 적극 활용 